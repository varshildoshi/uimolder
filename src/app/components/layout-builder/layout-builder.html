<div class="h-screen flex flex-col bg-[#020617] text-slate-300 font-['Tomorrow']" cdkDropListGroup>
  <header class="h-16 border-b border-white/10 flex items-center justify-between px-6 bg-black/40 shrink-0">
    <div class="flex items-center gap-2">
      <h1 class="text-brand-gold font-bold tracking-wider">LAYOUT BUILDER</h1>
    </div>
  </header>

  <div class="flex flex-1 overflow-hidden">
    <!-- Sidebar / Toolbox -->
    <aside class="w-72 border-r border-white/5 bg-white/[0.01] p-6 overflow-y-auto">
      <h2 class="text-xs font-mono uppercase tracking-widest text-slate-500 mb-6">Toolbox</h2>
      
      <div 
        cdkDropList 
        [cdkDropListData]="toolbox" 
        [cdkDropListSortingDisabled]="true"
        class="space-y-4">
        @for (item of toolbox; track item.type) {
          <div 
            cdkDrag 
            [cdkDragData]="item"
            class="p-4 bg-white/[0.03] border border-white/10 rounded-xl cursor-grab hover:border-brand-gold/40 transition-all flex items-center gap-3 group">
            <span class="material-icons text-slate-500 group-hover:text-brand-gold">extension</span>
            <span class="text-sm font-medium">{{item.label}}</span>
          </div>
        }
      </div>
    </aside>

    <!-- Canvas -->
    <main class="flex-1 bg-[radial-gradient(#ffffff05_1px,transparent_1px)] bg-[size:20px_20px] p-10 overflow-y-auto relative">
      <div 
        cdkDropList 
        [cdkDropListData]="canvasItems()" 
        (cdkDropListDropped)="onDrop($event)"
        class="max-w-5xl mx-auto min-h-full border-2 border-dashed border-slate-800 rounded-3xl p-8 flex flex-col gap-6 transition-all"
        [ngClass]="{'border-brand-gold/20': canvasItems().length === 0}">
        
        @if (canvasItems().length === 0) {
          <div class="flex-1 flex items-center justify-center text-slate-600 pointer-events-none">
            <p>Drag elements here to start building</p>
          </div>
        }

        @for (item of canvasItems(); track item.id) {
          <div 
            cdkDrag 
            class="p-6 bg-white/[0.02] border border-white/10 rounded-2xl relative group cursor-pointer hover:border-white/20">
            <div class="flex items-center gap-2 mb-2">
              <span class="material-icons text-slate-600 text-sm">drag_indicator</span>
              <span class="text-[10px] font-mono text-brand-gold uppercase">{{item.type}}</span>
            </div>
            <h4 class="text-sm font-bold text-white">{{item.label}}</h4>
          </div>
        }
      </div>
    </main>
  </div>
</div>